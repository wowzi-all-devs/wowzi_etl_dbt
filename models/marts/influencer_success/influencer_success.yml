version: 2

models:
  - name: influencer_basic_data
    description: "Influencer model with information needed only for Influencer Success"
    columns:
      - name: influencer_id
        description: "The primary key for this table"
        tests:
          - unique
          - not_null
      - name: gender
      - name: country
      - name: location
      - name: age_range
      - name: job_activity
      - name: job_eligibility
      - name: followers_count_INSTAGRAM
      - name: channel_status_INSTAGRAM
      - name: influencer_type_INSTAGRAM
      - name: username_FACEBOOK
      - name: followers_count_FACEBOOK
      - name: channel_status_FACEBOOK
      - name: influencer_type_FACEBOOK
      - name: username_TWITTER
      - name: followers_count_TWITTER
      - name: channel_status_TWITTER
      - name: influencer_type_TWITTER
      - name: username_LINKEDIN
      - name: followers_count_LINKEDIN
      - name: channel_status_LINKEDIN
      - name: influencer_type_LINKEDIN
      - name: username_TIKTOK
      - name: followers_count_TIKTOK
      - name: channel_status_TIKTOK
      - name: influencer_type_TIKTOK

  - name: campaign_facts
    description: "Campaigns with extra information like status tasks, status jobs, budget spent, etc."
    columns:
      - name: campaign_id
        description: "The primary key for this table"
        tests:
          - unique
          - not_null
      - name: campaign_name
      - name: campaign_creation_date
      - name: start_date
      - name: end_date
      - name: currency
      - name: budget
      - name: budget_spent
      - name: budget_spent_usd
      - name: bonus_amount
      - name: bonus_type
      - name: creator_type
      - name: creator_id
      - name: canceled
      - name: canceled_timestamp
      - name: influencers_invited_count
      - name: influencers_accepted_count
      - name: company_name
      - name: total_tasks
      - name: quality_verified_tasks
      - name: problematic_verified_tasks
      - name: time_verified_tasks
      - name: company_id
      - name: advertiser_id
      - name: country

  - name: influencer_social_media_channels
    description: "Joined tables influencers and influencer_channel_data in order to be able to filter by social media channel" 
    columns:
      - name: primary_key
        description: "The primary key for this table"
        tests:
          - unique
          - not_null
      - name: influencer_id
        tests:
          - not_null
          - relationships:
              to: ref('influencers')
              field: influencer_id
      - name: date_account_created
        description: "Date account was created"
      - name: first_name
      - name: last_name
      - name: personal_id_number
      - name: email
      - name: email_verified
      - name: mobile_number
      - name: mobile_number_verified
      - name: gender
      - name: country
      - name: location
      - name: dob
      - name: income_category
      - name: income_currency
      - name: smileidentity_status
      - name: total_campaigns
      - name: total_net_payment
      - name: first_campaign_date
      - name: last_campaign_date
      - name: offered_jobs
      - name: total_accepted
      - name: total_expired
      - name: total_not_accepted
      - name: username
      - name: channel
      - name: followers_count
      - name: channel_status
      - name: influencer_type
      - name: age_range
      - name: job_activity
      - name: job_eligibility

  - name: influencer_task_facts
    description: "Influencer tasks"
    columns:
      - name: influencer_id
      - name: company_id
      - name: task_id
      - name: campaign_id
      - name: channel
      - name: submission_link
      - name: submission_link_add_time
      - name: submission_status
      - name: first_verification_status
      - name: second_verification_status
      - name: third_verification_status
      - name: payment_amount_list
      - name: top_post
      - name: task_creation_time
      - name: country

  - name: twitter_campaign_metrics
    description: "Twitter campaign metrics with information about the campaign"
    columns:
      - name: primary_key
        description: "The primary key for this table"
        tests:
          - unique
          - not_null
      - name: influencer_id
        tests:
          - not_null
      - name: task_id
        tests:
          - not_null
      - name: campaign_id
        tests:
          - not_null
      - name: tweet_id
        tests:
          - not_null
      - name: channel
      - name: followers_count
      - name: quote_count
      - name: reply_count
      - name: likes
      - name: retweet_count
      - name: username
      - name: processed_at
      - name: post_created_at
      - name: submission_link
      - name: campaign_name
      - name: budget_spent
      - name: merchant_id
      - name: merchant_name
      - name: company_name